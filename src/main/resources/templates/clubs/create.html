<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>모임 만들기</title>
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>
<header class="topbar">
    <div class="brand"><a th:href="@{/clubs}">← 우리모임</a></div>
</header>

<main class="form-page">
    <form th:action="@{/clubs}" method="post" enctype="multipart/form-data" class="card form">
        <h2>모임 만들기</h2>

        <label>모임 이미지
            <input type="file" name="image" accept="image/*">
        </label>

        <label>모임 이름
            <input type="text" name="name" required>
        </label>

        <label>홍보 문구
            <textarea name="description" rows="4"></textarea>
        </label>

        <div class="row">
            <label>지역(도)
                <select id="createDo" name="regionDo" required></select>
            </label>
            <label>시/군/구
                <select id="createSi" name="regionSi" required></select>
            </label>
        </div>

        <fieldset>
            <legend>카테고리(복수 선택)</legend>
            <div class="category-grid">
                <label th:each="c: ${categories}">
                    <input type="checkbox" name="categoryIds" th:value="${c.id}">
                    <span th:text="${c.name}">카테고리</span>
                </label>
            </div>
        </fieldset>

        <div class="actions">
            <button class="primary" type="submit">만들기</button>
            <a class="ghost" th:href="@{/clubs}">취소</a>
        </div>
    </form>
</main>

<script src="/js/region.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.__initRegions('createDo','createSi');
    });
</script>
</body>
</html>
